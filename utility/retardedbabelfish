#!/bin/bash
# Copyright (C) 2014 Sean Donovan

# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at

#    http://www.apache.org/licenses/LICENSE-2.0

# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

langselect () {

## Language Manipulator, this will not stay in script
## Uncomment to use
# export LANG="en_"

# English
if ( echo $LANG | grep -q "en_" ); then
	echo "We have detected that your system is set to English"
	echo "Is this how you want the rom kitchen to be?"

	read -p "yes/no?" answer

	if [ "$answer" == "yes" ] || [ "$answer" == "y" ]; then
		echo "Language saved as English"
	elif [ "$answer" == "no" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
# Spanish
elif ( echo $LANG | grep -q "es_" ); then
	echo "Hemos detectado que su sistema está configurado para español"
	echo "¿Es así como quieres la cocina rom que sea?"

	echo ""
	echo "## Esto fue traducido usando Google Translate ##"
	echo "## Póngase en contacto conmigo para hacerme saber"
	echo "si se trataba de una buena traducción o no ##"

	read -p "sí/no?" answer

	if [ "$answer" == "sí" ] || [ "$answer" == "si" ] || [ "$answer" == "s" ]; then
		echo "Idioma guardado como español"
	elif [ "$answer" == "no" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
# French
elif ( echo $LANG | grep -q "fr_" ); then
	echo "Nous avons détecté que votre système est configuré en français"
	echo "Est-ce la façon dont vous voulez la cuisine rom soit?"

	echo ""
	echo "## Cela a été traduit en utilisant Google Translate ##"
	echo "## S'il vous plaît me contacter pour me faire savoir si"
	echo "c'était une bonne traduction ou pas ##"

	read -p "oui/non?" answer

	if [ "$answer" == "oui" ] || [ "$answer" == "o" ]; then
		echo ""
	elif [ "$answer" == "non" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
# German
elif ( echo $LANG | grep -q "de_" ); then
	echo "Wir haben festgestellt, dass das System auf Deutsch eingestellt ist"
	echo "Ist das, wie Sie wollen, dass die rom Küche zu sein?"

	echo ""
	echo "## Dies wurde mit Hilfe von Google Translate übersetzt ##"
	echo "## Bitte kontaktieren Sie mich, damit ich weiß, ob dies"
	echo "eine gute Übersetzung ist oder nicht ##"

	read -p "ja/nein?" answer

	if [ "$answer" == "ja" ] || [ "$answer" == "j" ]; then
		echo ""
	elif [ "$answer" == "nein" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
# Italian
elif ( echo $LANG | grep -q "it_" ); then
	echo "Abbiamo rilevato che il sistema è impostato su italiano"
	echo "È questo come si desidera la cucina rom di essere?"

	echo ""
	echo "## Questo è stato tradotto con Google Translate ##"
	echo "## Vi prego di contattarmi per farmi sapere se"
	echo "questa è stata una buona traduzione o no ##"

	read -p "sì/no?" answer

	if [ "$answer" == "sì" ] || [ "$answer" == "si" ] || [ "$answer" == "s" ]; then
		echo ""
	elif [ "$answer" == "no" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
# Japanese
elif ( echo $LANG | grep -q "ja_" ); then
	echo "私たちは、あなたのシステムが日本語に設定されていることを検出した"
	echo "これは、ROMのキッチンになりたい方法です？"

	echo ""
	echo "## これは、Googleが翻訳使用して翻訳されました ##"
	echo "## これは良い翻訳したかどうか、私に知らせて、私に連絡してください ##"

	read -p "はい/いいえ？" answer

	if [ "$answer" == "はい" ] || [ "$answer" == "h" ]; then
		echo ""
	elif [ "$answer" == "いいえ" ] || [ "$answer" == "ī" ]; then
		echo ""
	else
		echo ""
	fi
# Korean
elif ( echo $LANG | grep -q "ko_" ); then
	echo "우리는 당신의 시스템이 한국어로 설정되어 있음을 감지 한"
	echo "이것은 당신이 롬 부엌이 원하는 방법인가?"

	echo ""
	echo "## 이것은 구글 번역 사용하여 번역되었다 ##"
	echo "## 이 안 좋은 번역이었다 또는 알려 주시기"
	echo "위하여 저에게 연락하십시오 ##"

	read -p "예/아니오?" answer

	if [ "$answer" == "예" ] || [ "$answer" == "y" ]; then
		echo ""
	elif [ "$answer" == "아니오" ] || [ "$answer" == "a" ]; then
		echo ""
	else
		echo ""
	fi
else
	echo "We could not detect what language your system uses"
	echo "Default setting is english, will this be ok?"
	read -p "yes/no?" answer

	if [ "$answer" == "yes" ] || [ "$answer" == "y" ]; then
		echo "Language saved as English"
	elif [ "$answer" == "no" ] || [ "$answer" == "n" ]; then
		echo ""
	else
		echo ""
	fi
fi

}

if ( ! find $LOCAL/config/language &> /dev/null ); then
	langselect
fi
